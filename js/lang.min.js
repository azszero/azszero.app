define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/lib/dom","ace/editor"],function(n,t){"use strict";function i(n){var t=(new Date).toLocaleString("en-us",n);return t.length==1?"0"+t:t}var a=n("./lib/oop"),v=n("./lib/event_emitter").EventEmitter,s=n("./lib/lang"),h=n("./range").Range,y=n("./range_list").RangeList,p=n("./keyboard/hash_handler").HashHandler,w=n("./tokenizer").Tokenizer,c=n("./clipboard"),u={CURRENT_WORD:function(n){return n.session.getTextRange(n.session.getWordRange())},SELECTION:function(n,t,i){var r=n.session.getTextRange();return i?r.replace(/\n\r?([ \t]*\S)/g,"\n"+i+"$1"):r},CURRENT_LINE:function(n){return n.session.getLine(n.getCursorPosition().row)},PREV_LINE:function(n){return n.session.getLine(n.getCursorPosition().row-1)},LINE_INDEX:function(n){return n.getCursorPosition().row},LINE_NUMBER:function(n){return n.getCursorPosition().row+1},SOFT_TABS:function(n){return n.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(n){return n.session.getTabSize()},CLIPBOARD:function(){return c.getText&&c.getText()},FILENAME:function(n){return/[^/\\]*$/.exec(this.FILEPATH(n))[0]},FILENAME_BASE:function(n){return/[^/\\]*$/.exec(this.FILEPATH(n))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(n){return this.FILEPATH(n).replace(/[^/\\]*$/,"")},FILEPATH:function(){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(n){var t=n.session.$mode||{};return t.blockComment&&t.blockComment.start||""},BLOCK_COMMENT_END:function(n){var t=n.session.$mode||{};return t.blockComment&&t.blockComment.end||""},LINE_COMMENT:function(n){var t=n.session.$mode||{};return t.lineCommentStart||""},CURRENT_YEAR:i.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:i.bind(null,{year:"2-digit"}),CURRENT_MONTH:i.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:i.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:i.bind(null,{month:"short"}),CURRENT_DATE:i.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:i.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:i.bind(null,{weekday:"short"}),CURRENT_HOUR:i.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:i.bind(null,{minute:"2-digit"}),CURRENT_SECOND:i.bind(null,{second:"2-digit"})},r,f,e,o,l;u.SELECTED_TEXT=u.SELECTION;r=function(){this.snippetMap={};this.snippetNameMap={}},function(){a.implement(this,v);this.getTokenizer=function(){return r.$tokenizer||this.createTokenizer()};this.createTokenizer=function(){function n(n){return(n=n.substr(1),/^\d+$/.test(n))?[{tabstopId:parseInt(n,10)}]:[{text:n}]}function t(n){return"(?:[^\\\\"+n+"]|\\\\.)"}var i={regex:"/("+t("/")+"+)/",onMatch:function(n,t,i){var r=i[0];return r.fmtString=!0,r.guard=n.slice(1,-1),r.flag="",""},next:"formatString"};return r.$tokenizer=new w({start:[{regex:/\\./,onMatch:function(n,t,i){var r=n[1];return r=="}"&&i.length?n=r:"`$\\".indexOf(r)!=-1&&(n=r),[n]}},{regex:/}/,onMatch:function(n,t,i){return[i.length?i.shift():n]}},{regex:/\$(?:\d+|\w+)/,onMatch:n},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,i,r){var u=n(t.substr(1));return r.unshift(u[0]),u},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(n,t,i){var r=n.slice(1,-1).replace(/\\[,|\\]|,/g,function(n){return n.length==2?n[1]:"\x00"}).split("\x00");return i[0].choices=r,[r[0]]},next:"start"},i,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(n,t,i){return i.length&&i[0].expectElse?(i[0].expectElse=!1,i[0].ifEnd={elseEnd:i[0]},[i[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(n,t,i){var r=n[1];return r=="}"&&i.length?n=r:"`$\\".indexOf(r)!=-1?n=r:r=="n"?n="\n":r=="t"?n="\t":"ulULE".indexOf(r)!=-1&&(n={changeCase:r,local:r>"a"}),[n]}},{regex:"/\\w*}",onMatch:function(n,t,i){var r=i.shift();return r&&(r.flag=n.slice(1,-1)),this.next=r&&r.tabstopId?"start":"",[r||n]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(n){return[{text:n.slice(1)}]}},{regex:/\${\w+/,onMatch:function(n,t,i){var r={text:n.slice(2)};return i.unshift(r),[r]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(n,t,i){var r=i.shift();return this.next=r&&r.tabstopId?"start":"",[r||n]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(n,t,i){var r=i[0];return r.formatFunction=n.slice(2,-1),[i.shift()]},next:"formatString"},i,{regex:/:[\?\-+]?/,onMatch:function(n,t,i){n[1]=="+"&&(i[0].ifEnd=i[0]);n[1]=="?"&&(i[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),r.$tokenizer};this.tokenizeTmSnippet=function(n,t){return this.getTokenizer().getLineTokens(n,t).tokens.map(function(n){return n.value||n})};this.getVariableValue=function(n,t,i){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var r=this.variables[t];return typeof r=="function"&&(r=this.variables[t](n,t,i)),r==null?"":r};this.variables=u;this.tmStrFormat=function(n,t,i){var f,r;if(!t.fmt)return n;f=t.flag||"";r=t.guard;r=new RegExp(r,f.replace(/[^gim]/g,""));var e=typeof t.fmt=="string"?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,u=this;return n.replace(r,function(){var s=u.variables.__,n,o,t,r,f;for(u.variables.__=[].slice.call(arguments),n=u.resolveVariables(e,i),o="E",t=0;t<n.length;t++)r=n[t],typeof r=="object"?(n[t]="",r.changeCase&&r.local?(f=n[t+1],f&&typeof f=="string"&&(n[t]=r.changeCase=="u"?f[0].toUpperCase():f[0].toLowerCase(),n[t+1]=f.substr(1))):r.changeCase&&(o=r.changeCase)):o=="U"?n[t]=r.toUpperCase():o=="L"&&(n[t]=r.toLowerCase());return u.variables.__=s,n.join("")})};this.tmFormatFunction=function(n,t){return t.formatFunction=="upcase"?n.toUpperCase():t.formatFunction=="downcase"?n.toLowerCase():n};this.resolveVariables=function(n,t){function h(t){var i=n.indexOf(t,r+1);i!=-1&&(r=i)}for(var i,e,u,f=[],s="",o=!0,r=0;r<n.length;r++){if(i=n[r],typeof i=="string"){f.push(i);i=="\n"?(o=!0,s=""):o&&(s=/^\t*/.exec(i)[0],o=/\S/.test(i));continue}i&&(o=!1,i.fmtString&&(e=n.indexOf(i,r+1),e==-1&&(e=n.length),i.fmt=n.slice(r+1,e),r=e),i.text?(u=this.getVariableValue(t,i.text,s)+"",i.fmtString&&(u=this.tmStrFormat(u,i,t)),i.formatFunction&&(u=this.tmFormatFunction(u,i,t)),u&&!i.ifEnd?(f.push(u),h(i)):!u&&i.ifEnd&&h(i.ifEnd)):i.elseEnd?h(i.elseEnd):i.tabstopId!=null?f.push(i):i.changeCase!=null&&f.push(i))}return f};this.insertSnippetForSelection=function(n,t){function d(n){for(var t,f,r=[],i=0;i<n.length;i++){if(t=n[i],typeof t=="object"){if(u[t.tabstopId])continue;f=n.lastIndexOf(t,i-1);t=r[f]||{tabstopId:t.tabstopId}}r[i]=t}return r}var v=n.getCursorPosition(),b=n.session.getLine(v.row),k=n.session.getTabString(),c=b.match(/^\s*/)[0],i,s,u,e,r,o;for(v.column<c.length&&(c=c.slice(0,v.column)),t=t.replace(/\r/g,""),i=this.tokenizeTmSnippet(t),i=this.resolveVariables(i,n),i=i.map(function(n){return n=="\n"?n+c:typeof n=="string"?n.replace(/\t/g,k):n}),s=[],i.forEach(function(n,t){var f,r,e,u,o;typeof n=="object"&&(f=n.tabstopId,r=s[f],r||(r=s[f]=[],r.index=f,r.value="",r.parents={}),r.indexOf(n)===-1)&&(n.choices&&!r.choices&&(r.choices=n.choices),r.push(n),e=i.indexOf(n,t+1),e!==-1)&&(u=i.slice(t+1,e),o=u.some(function(n){return typeof n=="object"}),o&&!r.value?r.value=u:u.length&&(!r.value||typeof r.value!="string")&&(r.value=u.join("")))}),s.forEach(function(n){n.length=0}),u={},e=0;e<i.length;e++)if(r=i[e],typeof r=="object"){var h=r.tabstopId,l=s[h],g=i.indexOf(r,e+1);if(u[h]){u[h]===r&&(delete u[h],Object.keys(u).forEach(function(n){l.parents[n]=!0}));continue}u[h]=r;o=l.value;typeof o!="string"?o=d(o):r.fmt&&(o=this.tmStrFormat(o,r,n));i.splice.apply(i,[e+1,Math.max(0,g-e)].concat(o,r));l.indexOf(r)===-1&&l.push(r)}var y=0,a=0,p="";i.forEach(function(n){if(typeof n=="string"){var t=n.split("\n");t.length>1?(a=t[t.length-1].length,y+=t.length-1):a+=n.length;p+=n}else n&&(n.start?n.end={row:y,column:a}:n.start={row:y,column:a})});var w=n.getSelectionRange(),nt=n.session.replace(w,p),tt=new f(n),it=n.inVirtualSelectionMode&&n.selection.index;tt.addTabstops(s,w.start,nt,it)};this.insertSnippet=function(n,t){var i=this;if(n.inVirtualSelectionMode)return i.insertSnippetForSelection(n,t);n.forEachSelection(function(){i.insertSnippetForSelection(n,t)},null,{keepOrder:!0});n.tabstopManager&&n.tabstopManager.tabNext()};this.$getScope=function(n){var t=n.session.$mode.$id||"",r,i;return t=t.split("/").pop(),(t==="html"||t==="php")&&(t!=="php"||n.session.$mode.inlinePhp||(t="html"),r=n.getCursorPosition(),i=n.session.getState(r.row),typeof i=="object"&&(i=i[0]),i.substring&&(i.substring(0,3)=="js-"?t="javascript":i.substring(0,4)=="css-"?t="css":i.substring(0,4)=="php-"&&(t="php"))),t};this.getActiveScopes=function(n){var t=this.$getScope(n),i=[t],r=this.snippetMap;return r[t]&&r[t].includeScopes&&i.push.apply(i,r[t].includeScopes),i.push("_"),i};this.expandWithTab=function(n,t){var r=this,i=n.forEachSelection(function(){return r.expandSnippetForSelection(n,t)},null,{keepOrder:!0});return i&&n.tabstopManager&&n.tabstopManager.tabNext(),i};this.expandSnippetForSelection=function(n,t){var r=n.getCursorPosition(),u=n.session.getLine(r.row),f=u.substring(0,r.column),e=u.substr(r.column),o=this.snippetMap,i;return(this.getActiveScopes(n).some(function(n){var t=o[n];return t&&(i=this.findMatchingSnippet(t,f,e)),!!i},this),!i)?!1:t&&t.dryRun?!0:(n.session.doc.removeInLine(r.row,r.column-i.replaceBefore.length,r.column+i.replaceAfter.length),this.variables.M__=i.matchBefore,this.variables.T__=i.matchAfter,this.insertSnippetForSelection(n,i.content),this.variables.M__=this.variables.T__=null,!0)};this.findMatchingSnippet=function(n,t,i){for(var r,u=n.length;u--;)if((r=n[u],!r.startRe||r.startRe.test(t))&&(!r.endRe||r.endRe.test(i))&&(r.startRe||r.endRe))return r.matchBefore=r.startRe?r.startRe.exec(t):[""],r.matchAfter=r.endRe?r.endRe.exec(i):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(t)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(i)[0]:"",r};this.snippetMap={};this.snippetNameMap={};this.register=function(n,t){function u(n){return n&&!/^\^?\(.*\)\$?$|^\\b$/.test(n)&&(n="(?:"+n+")"),n||""}function f(n,t,i){return n=u(n),t=u(t),i?(n=t+n,n&&n[n.length-1]!="$"&&(n=n+"$")):(n=n+t,n&&n[0]!="^"&&(n="^"+n)),new RegExp(n)}function e(n){var u,e;(n.scope||(n.scope=t||"_"),t=n.scope,i[t]||(i[t]=[],r[t]={}),u=r[t],n.name&&(e=u[n.name],e&&o.unregister(e),u[n.name]=n),i[t].push(n),n.tabTrigger&&!n.trigger&&(!n.guard&&/^\w/.test(n.tabTrigger)&&(n.guard="\\b"),n.trigger=s.escapeRegExp(n.tabTrigger)),n.trigger||n.guard||n.endTrigger||n.endGuard)&&(n.startRe=f(n.trigger,n.guard,!0),n.triggerRe=new RegExp(n.trigger),n.endRe=f(n.endTrigger,n.endGuard,!0),n.endTriggerRe=new RegExp(n.endTrigger))}var i=this.snippetMap,r=this.snippetNameMap,o=this;n||(n=[]);n&&n.content?e(n):Array.isArray(n)&&n.forEach(e);this._signal("registerSnippets",{scope:t})};this.unregister=function(n,t){function i(n){var f=u[n.scope||t],i,e;f&&f[n.name]&&(delete f[n.name],i=r[n.scope||t],e=i&&i.indexOf(n),e>=0&&i.splice(e,1))}var r=this.snippetMap,u=this.snippetNameMap;n.content?i(n):Array.isArray(n)&&n.forEach(i)};this.parseSnippetFile=function(n){var f,i,u;n=n.replace(/\r/g,"");for(var e=[],t={},o=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,r;r=o.exec(n);){if(r[1])try{t=JSON.parse(r[1]);e.push(t)}catch(s){}r[4]?(t.content=r[4].replace(/^\t/gm,""),e.push(t),t={}):(f=r[2],i=r[3],f=="regex"?(u=/\/((?:[^\/\\]|\\.)*)|$/g,t.guard=u.exec(i)[1],t.trigger=u.exec(i)[1],t.endTrigger=u.exec(i)[1],t.endGuard=u.exec(i)[1]):f=="snippet"?(t.tabTrigger=i.match(/^\S*/)[0],t.name||(t.name=i)):t[f]=i)}return e};this.getSnippetByName=function(n,t){var r=this.snippetNameMap,i;return this.getActiveScopes(t).some(function(t){var u=r[t];return u&&(i=u[n]),!!i},this),i}}.call(r.prototype);f=function(n){if(n.tabstopManager)return n.tabstopManager;n.tabstopManager=this;this.$onChange=this.onChange.bind(this);this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule;this.$onChangeSession=this.onChangeSession.bind(this);this.$onAfterExec=this.onAfterExec.bind(this);this.attach(n)},function(){this.attach=function(n){this.index=0;this.ranges=[];this.tabstops=[];this.$openTabstops=null;this.selectedTabstop=null;this.editor=n;this.editor.on("change",this.$onChange);this.editor.on("changeSelection",this.$onChangeSelection);this.editor.on("changeSession",this.$onChangeSession);this.editor.commands.on("afterExec",this.$onAfterExec);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this);this.ranges=null;this.tabstops=null;this.selectedTabstop=null;this.editor.removeListener("change",this.$onChange);this.editor.removeListener("changeSelection",this.$onChangeSelection);this.editor.removeListener("changeSession",this.$onChangeSession);this.editor.commands.removeListener("afterExec",this.$onAfterExec);this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.tabstopManager=null;this.editor=null};this.onChange=function(n){for(var t,c,e,i,r,o,u,s,l=n.action[0]=="r",a=this.selectedTabstop&&this.selectedTabstop.parents||{},h=(this.tabstops||[]).slice(),f=0;f<h.length;f++){if(t=h[f],c=t==this.selectedTabstop||a[t.index],t.rangeList.$bias=c?0:1,n.action=="remove"&&t!==this.selectedTabstop)for(e=t.parents&&t.parents[this.selectedTabstop.index],i=t.rangeList.pointIndex(n.start,e),i=i<0?-i-1:i+1,r=t.rangeList.pointIndex(n.end,e),r=r<0?-r-1:r-1,o=t.rangeList.ranges.slice(i,r),u=0;u<o.length;u++)this.removeRange(o[u]);t.rangeList.$onChange(n)}s=this.editor.session;this.$inChange||!l||s.getLength()!=1||s.getValue()||this.detach()};this.updateLinkedFields=function(){var n=this.selectedTabstop,u,f,i,r,e,o;if(n&&n.hasLinkedRanges&&n.firstNonLinked){for(this.$inChange=!0,u=this.editor.session,f=u.getTextRange(n.firstNonLinked),i=0;i<n.length;i++)(r=n[i],r.linked)&&(e=r.original,o=t.snippetManager.tmStrFormat(f,e,this.editor),u.replace(r,o));this.$inChange=!1}};this.onAfterExec=function(n){n.command&&!n.command.readOnly&&this.updateLinkedFields()};this.onChangeSelection=function(){var n,r,u;if(this.editor){var t=this.editor.selection.lead,i=this.editor.selection.anchor,f=this.editor.selection.isEmpty();for(n=0;n<this.ranges.length;n++)if(!this.ranges[n].linked&&(r=this.ranges[n].contains(t.row,t.column),u=f||this.ranges[n].contains(i.row,i.column),r&&u))return;this.detach()}};this.onChangeSession=function(){this.detach()};this.tabNext=function(n){var i=this.tabstops.length,t=this.index+(n||1);t=Math.min(Math.max(t,1),i);t==i&&(t=0);this.selectTabstop(t);t===0&&this.detach()};this.selectTabstop=function(n){var t,u,i,r;if(this.$openTabstops=null,t=this.tabstops[this.index],t&&this.addTabstopMarkers(t),this.index=n,t=this.tabstops[this.index],t&&t.length){if(this.selectedTabstop=t,u=t.firstNonLinked||t,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(u);else{for(i=this.editor.multiSelect,i.toSingleRange(u.clone()),r=0;r<t.length;r++)t.hasLinkedRanges&&t[r].linked||i.addRange(t[r].clone(),!0);i.ranges[0]&&i.addRange(i.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}};this.addTabstops=function(n,t,i){var f=this.useLink||!this.editor.getOption("enableMultiselect"),u;this.$openTabstops||(this.$openTabstops=[]);n[0]||(u=h.fromPoints(i,i),o(u.start,t),o(u.end,t),n[0]=[u],n[0].index=0);var s=this.index,r=[s+1,0],c=this.ranges;n.forEach(function(n,i){var u=this.$openTabstops[i]||n,l,s,o;for(n.rangeList=new y,n.rangeList.$bias=0,l=0;l<n.length;l++)s=n[l],o=h.fromPoints(s.start,s.end||s.start),e(o.start,t),e(o.end,t),o.original=s,o.tabstop=u,c.push(o),n.rangeList.ranges.push(o),u!=n?u.unshift(o):u[l]=o,s.fmtString||u.firstNonLinked&&f?(o.linked=!0,u.hasLinkedRanges=!0):u.firstNonLinked||(u.firstNonLinked=o);u.firstNonLinked||(u.hasLinkedRanges=!1);u===n&&(r.push(u),this.$openTabstops[i]=u);this.addTabstopMarkers(u)},this);r.length>2&&(this.tabstops.length&&r.push(r.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,r))};this.addTabstopMarkers=function(n){var t=this.editor.session;n.forEach(function(n){n.markerId||(n.markerId=t.addMarker(n,"ace_snippet-marker","text"))})};this.removeTabstopMarkers=function(n){var t=this.editor.session;n.forEach(function(n){t.removeMarker(n.markerId);n.markerId=null})};this.removeRange=function(n){var t=n.tabstop.indexOf(n);t!=-1&&n.tabstop.splice(t,1);t=this.ranges.indexOf(n);t!=-1&&this.ranges.splice(t,1);t=n.tabstop.rangeList.ranges.indexOf(n);t!=-1&&n.tabstop.splice(t,1);this.editor.session.removeMarker(n.markerId);n.tabstop.length||(t=this.tabstops.indexOf(n.tabstop),t!=-1&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())};this.keyboardHandler=new p;this.keyboardHandler.bindKeys({Tab:function(n){t.snippetManager&&t.snippetManager.expandWithTab(n)||n.tabstopManager.tabNext(1)},"Shift-Tab":function(n){n.tabstopManager.tabNext(-1)},Esc:function(n){n.tabstopManager.detach()},Return:function(){return!1}})}.call(f.prototype);e=function(n,t){n.row==0&&(n.column+=t.column);n.row+=t.row};o=function(n,t){n.row==t.row&&(n.column-=t.column);n.row-=t.row};n("./lib/dom").importCssString("    .ace_snippet-marker {        -moz-box-sizing: border-box;        box-sizing: border-box;        background: rgba(194, 193, 208, 0.09);        border: 1px dotted rgba(211, 208, 235, 0.62);        position: absolute;    }");t.snippetManager=new r;l=n("./editor").Editor,function(){this.insertSnippet=function(n,i){return t.snippetManager.insertSnippet(this,n,i)};this.expandSnippet=function(n){return t.snippetManager.expandWithTab(this,n)}}.call(l.prototype)});define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(n,t){"use strict";var f=n("../virtual_renderer").VirtualRenderer,e=n("../editor").Editor,r=n("../range").Range,o=n("../lib/event"),s=n("../lib/lang"),i=n("../lib/dom"),u=function(n){var i=new f(n),t;return i.$maxLines=4,t=new e(i),t.setHighlightActiveLine(!1),t.setShowPrintMargin(!1),t.renderer.setShowGutter(!1),t.renderer.setHighlightGutterLine(!1),t.$mouseHandler.$focusTimeout=0,t.$highlightTagPending=!0,t},h=function(n){var y=i.createElement("div"),t=new u(y),c,e,f,h,l,a,v;n&&n.appendChild(y);y.style.display="none";t.renderer.content.style.cursor="default";t.renderer.setStyle("ace_autocomplete");t.setOption("displayIndentGuides",!1);t.setOption("dragDelay",150);c=function(){};t.focus=c;t.$isFocused=!0;t.renderer.$cursorLayer.restartTimer=c;t.renderer.$cursorLayer.element.style.opacity=0;t.renderer.$maxLines=10;t.renderer.$keepTextAreaAtCursor=!1;t.setHighlightActiveLine(!1);t.session.highlight("");t.session.$searchHighlight.clazz="ace_highlight-marker";t.on("mousedown",function(n){var i=n.getDocumentPosition();t.selection.moveToPosition(i);h.start.row=h.end.row=i.row;n.stop()});f=new r(-1,0,-1,Infinity);h=new r(-1,0,-1,Infinity);h.id=t.session.addMarker(h,"ace_active-line","fullLine");t.setSelectOnHover=function(n){n?f.id&&(t.session.removeMarker(f.id),f.id=null):f.id=t.session.addMarker(f,"ace_line-hover","fullLine")};t.setSelectOnHover(!1);t.on("mousemove",function(n){if(!e){e=n;return}if(e.x!=n.x||e.y!=n.y){e=n;e.scrollTop=t.renderer.scrollTop;var i=e.getDocumentPosition().row;f.start.row!=i&&(f.id||t.setRow(i),a(i))}});t.renderer.on("beforeRender",function(){if(e&&f.start.row!=-1){e.$pos=null;var n=e.getDocumentPosition().row;f.id||t.setRow(n);a(n,!0)}});t.renderer.on("afterRender",function(){var u=t.getRow(),n=t.renderer.$textLayer,r=n.element.childNodes[u-n.config.firstRow];r!==n.selectedNode&&n.selectedNode&&i.removeCssClass(n.selectedNode,"ace_selected");n.selectedNode=r;r&&i.addCssClass(r,"ace_selected")});l=function(){a(-1)};a=function(n,i){n!==f.start.row&&(f.start.row=f.end.row=n,i||t.session._emit("changeBackMarker"),t._emit("changeHoverMarker"))};t.getHoveredRow=function(){return f.start.row};o.addListener(t.container,"mouseout",l);t.on("hide",l);t.on("changeSelection",l);t.session.doc.getLength=function(){return t.data.length};t.session.doc.getLine=function(n){var i=t.data[n];return typeof i=="string"?i:i&&i.value||""};v=t.session.bgTokenizer;v.$tokenizeRow=function(n){function s(n,t){n&&f.push({type:(i.className||"")+(t||""),value:n})}var i=t.data[n],f=[],u,r,l,o;if(!i)return f;typeof i=="string"&&(i={value:i});u=i.caption||i.value||i.name;var a=u.toLowerCase(),h=(t.filterText||"").toLowerCase(),e=0,c=0;for(r=0;r<=h.length;r++)if(r!=c&&(i.matchMask&1<<r||r==h.length)){if(l=h.slice(c,r),c=r,o=a.indexOf(l,e),o==-1)continue;s(u.slice(e,o),"");e=o+l.length;s(u.slice(o,e),"completion-highlight")}return s(u.slice(e,u.length),""),i.meta&&f.push({type:"completion-meta",value:i.meta}),i.message&&f.push({type:"completion-message",value:i.message}),f};v.$updateOnChange=c;v.start=c;t.session.$computeWidth=function(){return this.screenWidth=0};t.isOpen=!1;t.isTopdown=!1;t.autoSelect=!0;t.filterText="";t.data=[];t.setData=function(n,i){t.filterText=i||"";t.setValue(s.stringRepeat("\n",n.length),-1);t.data=n||[];t.setRow(0)};t.getData=function(n){return t.data[n]};t.getRow=function(){return h.start.row};t.setRow=function(n){n=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,n));h.start.row!=n&&(t.selection.clearSelection(),h.start.row=h.end.row=n||0,t.session._emit("changeBackMarker"),t.moveCursorTo(n||0,0),t.isOpen&&t._signal("select"))};t.on("changeSelection",function(){t.isOpen&&t.setRow(t.selection.lead.row);t.renderer.scrollCursorIntoView()});return t.hide=function(){this.container.style.display="none";this._signal("hide");t.isOpen=!1},t.show=function(n,i,r){var u=this.container,o=window.innerHeight,c=window.innerWidth,h=this.renderer,l=h.$maxLines*i*1.4,f=n.top+this.$borderSize,a=f>o/2&&!r,s;a&&f+i+l>o?(h.$maxPixelHeight=f-2*this.$borderSize,u.style.top="",u.style.bottom=o-f+"px",t.isTopdown=!1):(f+=i,h.$maxPixelHeight=o-f-.2*i,u.style.top=f+"px",u.style.bottom="",t.isTopdown=!0);u.style.display="";s=n.left;s+u.offsetWidth>c&&(s=c-u.offsetWidth);u.style.left=s+"px";this._signal("show");e=null;t.isOpen=!0},t.goTo=function(n){var t=this.getRow(),i=this.session.getLength()-1;switch(n){case"up":t=t<=0?i:t-1;break;case"down":t=t>=i?-1:t+1;break;case"start":t=0;break;case"end":t=i}this.setRow(t)},t.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},t.$imageSize=0,t.$borderSize=1,t};i.importCssString("    .ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {        background-color: #CAD6FA;        z-index: 1;    }    .ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {        background-color: #3a674e;    }    .ace_editor.ace_autocomplete .ace_line-hover {        border: 1px solid #abbffe;        margin-top: -1px;        background: rgba(233,233,253,0.4);        position: absolute;        z-index: 2;    }    .ace_dark.ace_editor.ace_autocomplete .ace_line-hover {        border: 1px solid rgba(109, 150, 13, 0.8);        background: rgba(58, 103, 78, 0.62);    }    .ace_completion-meta {        opacity: 0.5;        margin: 0.9em;    }    .ace_completion-message {        color: blue;    }    .ace_editor.ace_autocomplete .ace_completion-highlight{        color: #2d69c7;    }    .ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{        color: #93ca12;    }    .ace_editor.ace_autocomplete {        width: 80%;        z-index: 200000;        border: 1px lightgray solid;        position: fixed;        box-shadow: 2px 3px 5px rgba(0,0,0,.2);        line-height: 1.4;        background: #fefefe;        color: #111;    }    .ace_dark.ace_editor.ace_autocomplete {        border: 1px #484747 solid;        box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);        line-height: 1.4;        background: #25282c;        color: #c1c1c1;    }","autocompletion.css");t.AcePopup=h;t.$singleLineEditor=u});define("ace/autocomplete/util",["require","exports","module"],function(n,t){"use strict";t.parForEach=function(n,t,i){var f=0,u=n.length,r;for(u===0&&i(),r=0;r<u;r++)t(n[r],function(n,t){f++;f===u&&i(n,t)})};var i=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;t.retrievePrecedingIdentifier=function(n,t,r){var f,u;for(r=r||i,f=[],u=t-1;u>=0;u--)if(r.test(n[u]))f.push(n[u]);else break;return f.reverse().join("")};t.retrieveFollowingIdentifier=function(n,t,r){var f,u;for(r=r||i,f=[],u=t;u<n.length;u++)if(r.test(n[u]))f.push(n[u]);else break;return f};t.getCompletionPrefix=function(n){var t=n.getCursorPosition(),r=n.session.getLine(t.row),i;return n.completers.forEach(function(n){n.identifierRegexps&&n.identifierRegexps.forEach(function(n){!i&&n&&(i=this.retrievePrecedingIdentifier(r,t.column,n))}.bind(this))}.bind(this)),i||this.retrievePrecedingIdentifier(r,t.column)}});define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(n,t){"use strict";var e=n("./keyboard/hash_handler").HashHandler,o=n("./autocomplete/popup").AcePopup,u=n("./autocomplete/util"),f=n("./lib/lang"),s=n("./lib/dom"),h=n("./snippets").snippetManager,c=n("./config"),i=function(){this.autoInsert=!1;this.autoSelect=!0;this.exactMatch=!1;this.gatherCompletionsId=0;this.keyboardHandler=new e;this.keyboardHandler.bindKeys(this.commands);this.blurListener=this.blurListener.bind(this);this.changeListener=this.changeListener.bind(this);this.mousedownListener=this.mousedownListener.bind(this);this.mousewheelListener=this.mousewheelListener.bind(this);this.changeTimer=f.delayedCall(function(){this.updateCompletions(!0)}.bind(this));this.tooltipTimer=f.delayedCall(this.updateDocTooltip.bind(this),50)},r;(function(){this.$init=function(){this.popup=new o(document.body||document.documentElement);this.popup.on("click",function(n){this.insertMatch();n.stop()}.bind(this));this.popup.focus=this.editor.focus.bind(this.editor);this.popup.on("show",this.tooltipTimer.bind(null,null));this.popup.on("select",this.tooltipTimer.bind(null,null));this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null));return this.popup};this.getPopup=function(){return this.popup||this.$init()};this.openPopup=function(n,t,i){var u,e,r,f;this.popup||this.$init();this.popup.autoSelect=this.autoSelect;this.popup.setData(this.completions.filtered,this.completions.filterText);n.keyBinding.addKeyboardHandler(this.keyboardHandler);u=n.renderer;this.popup.setRow(this.autoSelect?0:-1);i?i&&!t&&this.detach():(this.popup.setTheme(n.getTheme()),this.popup.setFontSize(n.getFontSize()),e=u.layerConfig.lineHeight,r=u.$cursorLayer.getPixelPosition(this.base,!0),r.left-=this.popup.getTextLeftOffset(),f=n.container.getBoundingClientRect(),r.top+=f.top-u.layerConfig.offset,r.left+=f.left-n.renderer.scrollLeft,r.left+=u.gutterWidth,this.popup.show(r,e))};this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.off("changeSelection",this.changeListener);this.editor.off("blur",this.blurListener);this.editor.off("mousedown",this.mousedownListener);this.editor.off("mousewheel",this.mousewheelListener);this.changeTimer.cancel();this.hideDocTooltip();this.gatherCompletionsId+=1;this.popup&&this.popup.isOpen&&this.popup.hide();this.base&&this.base.detach();this.activated=!1;this.completions=this.base=null};this.changeListener=function(){var n=this.editor.selection.lead;(n.row!=this.base.row||n.column<this.base.column)&&this.detach();this.activated?this.changeTimer.schedule():this.detach()};this.blurListener=function(n){var t=document.activeElement,i=this.editor.textInput.getElement(),r=n.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(n.relatedTarget),u=this.popup&&this.popup.container;t==i||t.parentNode==u||r||t==this.tooltipNode||n.relatedTarget==i||this.detach()};this.mousedownListener=function(){this.detach()};this.mousewheelListener=function(){this.detach()};this.goTo=function(n){this.popup.goTo(n)};this.insertMatch=function(n){var r,t,i;if(n||(n=this.popup.getData(this.popup.getRow())),!n)return!1;if(n.completer&&n.completer.insertMatch)n.completer.insertMatch(this.editor,n);else{if(this.completions.filterText)for(r=this.editor.selection.getAllRanges(),t=0;i=r[t];t++)i.start.column-=this.completions.filterText.length,this.editor.session.remove(i);n.snippet?h.insertSnippet(this.editor,n.snippet):this.editor.execCommand("insertstring",n.value||n)}this.detach()};this.commands={Up:function(n){n.completer.goTo("up")},Down:function(n){n.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(n){n.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(n){n.completer.goTo("end")},Esc:function(n){n.completer.detach()},Return:function(n){return n.completer.insertMatch()},"Shift-Return":function(n){n.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(n){var t=n.completer.insertMatch();if(t||n.tabstopManager)return t;n.completer.goTo("down")},PageUp:function(n){n.completer.popup.gotoPageUp()},PageDown:function(n){n.completer.popup.gotoPageDown()}};this.gatherCompletions=function(n,t){var f=n.getSession(),r=n.getCursorPosition(),e=u.getCompletionPrefix(n),i,o;return this.base=f.doc.createAnchor(r.row,r.column-e.length),this.base.$insertRight=!0,i=[],o=n.completers.length,n.completers.forEach(function(s){s.getCompletions(n,f,r,e,function(r,f){!r&&f&&(i=i.concat(f));t(null,{prefix:u.getCompletionPrefix(n),matches:i,finished:--o==0})})}),!0};this.showPopup=function(n,t){this.editor&&this.detach();this.activated=!0;this.editor=n;n.completer!=this&&(n.completer&&n.completer.detach(),n.completer=this);n.on("changeSelection",this.changeListener);n.on("blur",this.blurListener);n.on("mousedown",this.mousedownListener);n.on("mousewheel",this.mousewheelListener);this.updateCompletions(!1,t)};this.updateCompletions=function(n,t){var u,i,f;if(n&&this.base&&this.completions){if(i=this.editor.getCursorPosition(),u=this.editor.session.getTextRange({start:this.base,end:i}),u==this.completions.filterText)return;if((this.completions.setFilter(u),!this.completions.filtered.length)||this.completions.filtered.length==1&&this.completions.filtered[0].value==u&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,u,n);return}if(t&&t.matches)return i=this.editor.getSelectionRange().start,this.base=this.editor.session.doc.createAnchor(i.row,i.column),this.base.$insertRight=!0,this.completions=new r(t.matches),this.openPopup(this.editor,"",n);f=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(t,i){var o=function(){if(i.finished)return this.detach()}.bind(this),f=i.prefix,e=i&&i.matches,u;if(!e||!e.length)return o();if(f.indexOf(i.prefix)===0){if((this.completions=new r(e),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(f),u=this.completions.filtered,!u.length)||u.length==1&&u[0].value==f&&!u[0].snippet)return o();if(this.autoInsert&&u.length==1&&i.finished)return this.insertMatch(u[0]);this.openPopup(this.editor,f,n)}}.bind(this))};this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()};this.updateDocTooltip=function(){var i=this.popup,r=i.data,t=r&&(r[i.getHoveredRow()]||r[i.getRow()]),n=null;if(!t||!this.editor||!this.popup.isOpen||(this.editor.completers.some(function(i){return i.getDocTooltip&&(n=i.getDocTooltip(t)),n}),n||typeof t=="string"||(n=t),typeof n=="string"&&(n={docText:n}),!n||!(n.docHTML||n.docText)))return this.hideDocTooltip();this.showDocTooltip(n)};this.showDocTooltip=function(n){var t,r,i;this.tooltipNode||(this.tooltipNode=s.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));t=this.tooltipNode;n.docHTML?t.innerHTML=n.docHTML:n.docText&&(t.textContent=n.docText);t.parentNode||document.body.appendChild(t);r=this.popup;i=r.container.getBoundingClientRect();t.style.top=r.container.style.top;t.style.bottom=r.container.style.bottom;t.style.display="block";window.innerWidth-i.right<320?i.left<320?r.isTopdown?(t.style.top=i.bottom+"px",t.style.left=i.left+"px",t.style.right="",t.style.bottom=""):(t.style.top=r.container.offsetTop-t.offsetHeight+"px",t.style.left=i.left+"px",t.style.right="",t.style.bottom=""):(t.style.right=window.innerWidth-i.left+"px",t.style.left=""):(t.style.left=i.right+1+"px",t.style.right="")};this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var n=this.tooltipNode;this.editor.isFocused()||document.activeElement!=n||this.editor.focus();this.tooltipNode=null;n.parentNode&&n.parentNode.removeChild(n)}};this.onTooltipClick=function(n){for(var t=n.target;t&&t!=this.tooltipNode;){if(t.nodeName=="A"&&t.href){t.rel="noreferrer";t.target="_blank";break}t=t.parentNode}};this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var n=this.popup.container;n&&n.parentNode&&n.parentNode.removeChild(n)}this.editor&&this.editor.completer==this&&this.editor.completer==null;this.popup=null}}).call(i.prototype);i.for=function(n){if(n.completer)return n.completer;if(c.get("sharedPopups"))i.$shared||(i.$sharedInstance=new i),n.completer=i.$sharedInstance;else{n.completer=new i;n.once("destroy",function(n,t){t.completer.destroy()})}return n.completer};i.startCommand={name:"startAutocomplete",exec:function(n,t){var r=i.for(n);r.autoInsert=!1;r.autoSelect=!0;r.showPopup(n,t);r.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};r=function(n,t){this.all=n;this.filtered=n;this.filterText=t||"";this.exactMatch=!1},function(){this.setFilter=function(n){var t,i;t=n.length>this.filterText&&n.lastIndexOf(this.filterText,0)===0?this.filtered:this.all;this.filterText=n;t=this.filterCompletions(t,this.filterText);t=t.sort(function(n,t){return t.exactMatch-n.exactMatch||t.$score-n.$score||(n.caption||n.value).localeCompare(t.caption||t.value)});i=null;t=t.filter(function(n){var t=n.snippet||n.caption||n.value;return t===i?!1:(i=t,!0)});this.filtered=t};this.filterCompletions=function(n,t){var y=[],w=t.toUpperCase(),p=t.toLowerCase(),c,i,r,v,u,h,o;n:for(c=0;i=n[c];c++)if(r=i.caption||i.value||i.snippet,r){var f=-1,l=0,e=0,s,a;if(this.exactMatch){if(t!==r.substr(0,t.length))continue n}else if(v=r.toLowerCase().indexOf(p),v>-1)e=v;else for(u=0;u<t.length;u++){if(h=r.indexOf(p[u],f+1),o=r.indexOf(w[u],f+1),s=h>=0?o<0||h<o?h:o:o,s<0)continue n;a=s-f-1;a>0&&(f===-1&&(e+=10),e+=a,l=l|1<<u);f=s}i.matchMask=l;i.exactMatch=e?0:1;i.$score=(i.score||0)-e;y.push(i)}return y}}.call(r.prototype);t.Autocomplete=i;t.FilteredList=r});define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(n,t){function u(n,t){var u=n.getTextRange(r.fromPoints({row:0,column:0},t));return u.split(i).length-1}function f(n,t){var e=u(n,t),f=n.getValue().split(i),r=Object.create(null),o=f[e];return f.forEach(function(n,t){if(n&&n!==o){var u=Math.abs(e-t),i=f.length-u;r[n]=r[n]?Math.max(i,r[n]):i}}),r}var r=n("../range").Range,i=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.getCompletions=function(n,t,i,r,u){var e=f(t,i),o=Object.keys(e);u(null,o.map(function(n){return{caption:n,value:n,score:e[n],meta:"local"}}))}});define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,t){"use strict";var i=n("../snippets").snippetManager,u=n("../autocomplete").Autocomplete,p=n("../config"),e=n("../lib/lang"),o=n("../autocomplete/util"),s=n("../autocomplete/text_completer"),h={getCompletions:function(n,t,i,r,u){if(t.$mode.completer)return t.$mode.completer.getCompletions(n,t,i,r,u);var f=n.session.getState(i.row),e=t.$mode.getCompletions(f,t,i,r);u(null,e)}},c={getCompletions:function(n,t,r,u,f){var e=[],s=t.getTokenAt(r.row,r.column),h,o;s&&s.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?e.push("html-tag"):e=i.getActiveScopes(n);h=i.snippetMap;o=[];e.forEach(function(n){for(var t,i,r=h[n]||[],u=r.length;u--;)(t=r[u],i=t.name||t.tabTrigger,i)&&o.push({caption:i,snippet:t.content,meta:t.tabTrigger&&!t.name?t.tabTrigger+"⇥ ":"snippet",type:"snippet"})},this);f(null,o)},getDocTooltip:function(n){n.type!="snippet"||n.docHTML||(n.docHTML=["<b>",e.escapeHTML(n.caption),"<\/b>","<hr><\/hr>",e.escapeHTML(n.snippet)].join(""))}},r=[c,s,h];t.setCompleters=function(n){r.length=0;n&&r.push.apply(r,n)};t.addCompleter=function(n){r.push(n)};t.textCompleter=s;t.keyWordCompleter=h;t.snippetCompleter=c;var l={name:"expandSnippet",exec:function(n){return i.expandWithTab(n)},bindKey:"Tab"},f=function(n,t){a(t.session.$mode)},a=function(n){var t=n.$id;i.files||(i.files={});v(t);n.modes&&n.modes.forEach(a)},v=function(n){if(n&&!i.files[n]){var t=n.replace("mode","snippets");i.files[n]={};p.loadModule(t,function(t){t&&(i.files[n]=t,!t.snippets&&t.snippetText&&(t.snippets=i.parseSnippetFile(t.snippetText)),i.register(t.snippets||[],t.scope),t.includeScopes&&(i.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach(function(n){v("ace/mode/"+n)})))})}},y=function(n){var t=n.editor,r=t.completer&&t.completer.activated,f,i;n.command.name==="backspace"?r&&!o.getCompletionPrefix(t)&&t.completer.detach():n.command.name==="insertstring"&&(f=o.getCompletionPrefix(t),f&&!r&&(i=u.for(t),i.autoInsert=!1,i.showPopup(t)))},w=n("../editor").Editor;n("../config").defineOptions(w.prototype,"editor",{enableBasicAutocompletion:{set:function(n){n?(this.completers||(this.completers=Array.isArray(n)?n:r),this.commands.addCommand(u.startCommand)):this.commands.removeCommand(u.startCommand)},value:!1},enableLiveAutocompletion:{set:function(n){if(n){this.completers||(this.completers=Array.isArray(n)?n:r);this.commands.on("afterExec",y)}else this.commands.removeListener("afterExec",y)},value:!1},enableSnippets:{set:function(n){if(n){this.commands.addCommand(l);this.on("changeMode",f);f(null,this)}else this.commands.removeCommand(l),this.off("changeMode",f)},value:!1}})}),function(){window.require(["ace/ext/language_tools"],function(n){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=n)})}();